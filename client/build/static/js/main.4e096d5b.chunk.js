(this["webpackJsonpfacebook-clone-frontend"]=this["webpackJsonpfacebook-clone-frontend"]||[]).push([[0],{107:function(e,t,c){},136:function(e,t,c){},233:function(e,t,c){},269:function(e,t,c){},553:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),r=c.n(s),a=c(20),i=c.n(a),o=(c(226),c(9)),l=c(5),d=c(6),j=c.n(d),u=c(7),b=c(13),m=c(19),O=function(e){e.authenticated;var t=Object(s.useState)(""),c=Object(l.a)(t,2),r=c[0],a=c[1],i=Object(s.useState)(""),o=Object(l.a)(i,2),d=o[0],O=o[1],f=Object(s.useState)(!1),p=Object(l.a)(f,2),h=p[0],x=p[1],v=Object(b.g)(),g=function(){var e=Object(u.a)(j.a.mark((function e(t){var c,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r&&d){e.next=5;break}alert("Please Enter Credentials"),e.next=20;break;case 5:return c={email:r,password:d},e.prev=6,e.next=9,fetch("/login",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 9:return n=e.sent,e.next=12,n.json();case 12:s=e.sent,console.log(s.user),s.token?(localStorage.setItem("user",JSON.stringify(s)),v.push("/users/".concat(s.user._id,"/timeline"))):s.message&&x(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"container  ",children:Object(n.jsxs)("div",{className:"row text-center justify-content-center mt-3 ",children:[Object(n.jsx)("div",{className:"col-md-5 mt-3 ",children:"Facebook helps you connect and share with the people in your life."}),Object(n.jsxs)("div",{className:"col-md-5 mt-3 ",children:[Object(n.jsxs)("form",{onSubmit:g,children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Email",onChange:function(e){return a(e.target.value)}})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Passwod",onChange:function(e){return O(e.target.value)}})}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg btn-block",children:"Login"}),Object(n.jsxs)("div",{className:"pt-3",children:["Create an account ? ",Object(n.jsx)(m.b,{to:"/register",children:"Register"})]}),Object(n.jsx)("hr",{className:"mt-4"})]}),h&&Object(n.jsx)("p",{children:"Password and/or email are incorrect."})]})]})})})},f=c(219),p=(c(231),c(232),function(){var e=Object(s.useState)(new Date),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(s.useState)(""),i=Object(l.a)(a,2),o=i[0],d=i[1],O=Object(s.useState)(""),p=Object(l.a)(O,2),h=p[0],x=p[1],v=Object(s.useState)(""),g=Object(l.a)(v,2),N=g[0],w=g[1],y=Object(s.useState)(""),S=Object(l.a)(y,2),k=S[0],_=S[1],P=Object(s.useState)(""),C=Object(l.a)(P,2),F=(C[0],C[1],Object(s.useState)("")),U=Object(l.a)(F,2),q=(U[0],U[1],Object(s.useState)("")),E=Object(l.a)(q,2),R=(E[0],E[1],Object(s.useState)("")),D=Object(l.a)(R,2),A=D[0],I=D[1],L=Object(s.useState)(""),z=Object(l.a)(L,2),J=(z[0],z[1]),T=Object(s.useState)("Sign up"),M=Object(l.a)(T,2),B=(M[0],M[1]),V=Object(b.g)();console.log(c);var W=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={firstName:o,lastName:h,email:N,password:k,day:c.getDate(),month:c.getMonth()+1,year:c.getFullYear(),gender:A},console.log(n),e.prev=3,e.next=6,fetch("/sign-up",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 6:return s=e.sent,e.next=9,s.json();case 9:r=e.sent,console.log(r.message),r.message&&J(r.message),B("Account created. Logging in..."),H(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(j.a.mark((function e(){var t,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:N,password:k},e.prev=1,e.next=4,fetch("/login",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,console.log(n),n.token?(localStorage.setItem("user",JSON.stringify(n)),V.push("/users/".concat(n.user._id,"/timeline")),window.location.reload()):n.message&&J(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"container  ",children:Object(n.jsx)("div",{className:"row  justify-content-center mt-3 ",children:Object(n.jsx)("div",{className:"col-md-5 mt-3 ",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"text",className:"form-control",id:"firstName",placeholder:"First Name",onChange:function(e){return d(e.target.value)},required:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"text",className:"form-control",id:"lastName",placeholder:"Last Name",onChange:function(e){return x(e.target.value)},required:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"email",className:"form-control",id:"Email",placeholder:"Email",onChange:function(e){return w(e.target.value)},required:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Passwod",onChange:function(e){return _(e.target.value)},required:!0})}),Object(n.jsxs)("div",{className:"form-group text-start",children:[Object(n.jsx)("label",{for:"exampleInputEmail1",children:"Date Of Birth"}),Object(n.jsx)(f.a,{onChange:r,value:c})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-5",children:Object(n.jsx)("label",{children:"Gender"})}),Object(n.jsxs)("div",{className:"col-md-7",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"exampleRadios1",value:"Male",onChange:function(e){return I(e.target.value)}}),Object(n.jsx)("label",{className:"form-check-label",for:"exampleRadios1",children:"Male"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"exampleRadios1",value:"Female",onChange:function(e){return I(e.target.value)}}),Object(n.jsx)("label",{className:"form-check-label",for:"exampleRadios1",children:"Female"})]})]})]}),Object(n.jsx)("div",{className:"text-center mt-3",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-success ",onClick:W,children:"Register"})}),Object(n.jsx)("hr",{className:"mt-4"}),Object(n.jsxs)("div",{children:["Alread have an account ? ",Object(n.jsx)(m.b,{to:"/",children:"Login"})]})]})})})})})}),h=c(98);var x=function(e){var t=e.render,c=Object(h.a)(e,["render"]),r=Object(s.useState)(null),a=Object(l.a)(r,2),i=a[0],d=a[1],j=Object(s.useState)(""),u=Object(l.a)(j,2),m=u[0],O=u[1];return Object(s.useEffect)((function(){var e=localStorage.getItem("user");O(JSON.parse(e)),d(!!e)}),[]),null===i?Object(n.jsx)(n.Fragment,{}):Object(n.jsx)(b.b,Object(o.a)(Object(o.a)({},c),{},{render:function(e){return i?Object(n.jsx)(b.a,{to:"/users/".concat(m.user._id,"/timeline")}):Object(n.jsx)(t,Object(o.a)({},e))}}))},v=(c(233),c(132)),g=c.n(v),N=c(197),w=c.n(N),y=c(198),S=c.n(y),k=c(199),_=c.n(k),P=c(200),C=c.n(P),F=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"container-fluid sidebar ",children:[Object(n.jsxs)("div",{className:" d-flex flex-row align-items-center pt-2 pb-2  sidebar-row",children:[Object(n.jsx)("div",{children:Object(n.jsx)(g.a,{fontSize:"large"})}),Object(n.jsx)("div",{children:Object(n.jsx)("h4",{className:"pl-3 m-0",children:"Text"})})]}),Object(n.jsxs)("div",{className:"d-flex flex-row  align-items-center  pt-2 pb-2 sidebar-row",children:[Object(n.jsx)("div",{children:Object(n.jsx)(g.a,{fontSize:"large"})}),Object(n.jsx)("div",{children:Object(n.jsx)("h4",{className:"pl-3 m-0",children:"COVID-19 Information Center"})})]}),Object(n.jsxs)("div",{className:"d-flex flex-row  align-items-center  pt-2 pb-2 sidebar-row",children:[Object(n.jsx)("div",{children:Object(n.jsx)(w.a,{fontSize:"large"})}),Object(n.jsx)("div",{children:Object(n.jsx)("h4",{className:"pl-3 m-0",children:"Pages"})})]}),Object(n.jsxs)("div",{className:"d-flex flex-row   align-items-center  pt-2 pb-2 sidebar-row",children:[Object(n.jsx)("div",{children:Object(n.jsx)(S.a,{fontSize:"large"})}),Object(n.jsx)("div",{children:Object(n.jsx)("h4",{className:"pl-3 m-0",children:"Friends"})})]}),Object(n.jsxs)("div",{className:"d-flex flex-row  align-items-center  pt-2 pb-2 sidebar-row",children:[Object(n.jsx)("div",{children:Object(n.jsx)(_.a,{fontSize:"large"})}),Object(n.jsx)("div",{children:Object(n.jsx)("h4",{className:"pl-3 m-0",children:"Messenger"})})]}),Object(n.jsxs)("div",{className:"d-flex flex-row  align-items-center  pt-2 pb-2 sidebar-row",children:[Object(n.jsx)("div",{children:Object(n.jsx)(C.a,{fontSize:"large"})}),Object(n.jsx)("div",{children:Object(n.jsx)("h4",{className:"pl-3 m-0",children:"Videos"})})]})]})})},U=c(75),q=(c(136),c(201)),E=c.n(q),R=c(96),D=c.n(R),A=function(e){var t=e.onRequestClose,c=e.handleFile,s=e.imagePreview,r=e.postCreate,a=e.setContent,i=e.currentUser;return Object(n.jsx)("div",{className:"modal-backdrop",children:Object(n.jsx)("div",{className:"modal-container",children:Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-sm-11 d-flex align-items-center",children:[Object(n.jsx)("img",{src:i.profilePicture?i.profilePicture:"https://res.cloudinary.com/dueq2a3w1/image/upload/v1608046828/default-image1_w8javi.jpg",alt:"",width:"40",className:"rounded-circle"}),Object(n.jsx)("h3",{className:"modal-title",children:"".concat(i.firstName," ").concat(i.lastName)})]}),Object(n.jsx)("div",{className:"col-sm-1 align-items-center",children:Object(n.jsx)(E.a,{onClick:t})})]}),Object(n.jsx)("div",{className:"row ",children:Object(n.jsx)("textarea",{className:"form-control m-3",id:"exampleFormControlTextarea1",rows:"3",placeholder:"whats in your mind",onChange:function(e){return a(e.target.value)}})}),Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:s,alt:"",width:"80%"})}),Object(n.jsxs)("div",{className:"d-flex upload-icons align-items-center justify-content-center p-2",children:[Object(n.jsx)(D.a,{fontSize:"large",style:{color:"lightgreen"}}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"file",id:"upload",accept:".png, .jpg, .jpeg",hidden:!0,onChange:function(e){return c(e)}}),Object(n.jsx)("label",{for:"upload",children:"Photo/Video"})]})]}),Object(n.jsx)("div",{className:"pt-2",children:Object(n.jsx)("button",{className:"btn btn-primary btn-lg btn-block",onClick:r,children:"Post"})})]})})})},I=c(202),L=c.n(I),z=c(203),J=c.n(z),T=function(e){var t=e.setShowModal,c=e.currentUser;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"container-fluid post-card",children:[Object(n.jsxs)("div",{className:"row d-flex pt-3 pb-3 feed align-items-center",children:[Object(n.jsx)("div",{className:"col-xs-1 col-sm-1",children:Object(n.jsx)("img",{src:c.profilePicture?c.profilePicture:"https://res.cloudinary.com/dueq2a3w1/image/upload/v1608046828/default-image1_w8javi.jpg",alt:"",className:"rounded-circle",width:"40"})}),Object(n.jsx)("div",{className:"col-xs-11 col-sm-11",children:Object(n.jsx)("div",{className:"container-fluid ",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col text-left",children:Object(n.jsx)("button",{type:"button",className:"form-control feed-input",placeholder:"What's on your mind , User",onClick:function(){return t(!0)},"data-bs-target":"#postModal",children:"Whats in your mind"})})})})}),Object(n.jsx)("hr",{})]}),Object(n.jsxs)("div",{className:"row pb-3",children:[Object(n.jsxs)("div",{className:"col-4 col-md-4 d-flex align-items-center justify-content-center upload-icons",children:[Object(n.jsx)(L.a,{fontSize:"large",style:{color:"red"}}),Object(n.jsx)("h3",{children:"Live Video"})]}),Object(n.jsxs)("div",{className:" col-4 col-md-4 d-flex align-items-center justify-content-center upload-icons",children:[Object(n.jsx)(D.a,{fontSize:"large",style:{color:"lightgreen"}}),Object(n.jsx)("div",{onClick:function(){return t(!0)},children:"Photo/Video"})]}),Object(n.jsxs)("div",{className:" col-4 col-md-4 d-flex align-items-center justify-content-center upload-icons",children:[Object(n.jsx)(J.a,{fontSize:"large",style:{color:"orange"}}),Object(n.jsx)("h3",{children:"Feeling/Activity"})]})]})]})})},M=c(204),B=c.n(M),V=c(205),W=c.n(V),H=c(97),K=c.n(H),G=function(e){var t=e.comments;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"container-fluid pl-3",children:t.map((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"row pt-3 pb-3 align-items-center ",children:[Object(n.jsx)("div",{className:"col-1 col-sm-1 ",children:Object(n.jsx)("img",{src:e.user.profilePicture?e.user.profilePicture:"https://res.cloudinary.com/dueq2a3w1/image/upload/v1608046828/default-image1_w8javi.jpg",alt:"",className:"rounded-circle",width:"40"})}),Object(n.jsx)("div",{className:"col-11 col-sm-10 ml-2 text-left ",children:Object(n.jsxs)("div",{className:"user-comment",children:[Object(n.jsx)("h3",{children:"".concat(e.user.firstName," ").concat(e.user.lastName)}),Object(n.jsx)("p",{children:e.content})]})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-10 offset-md-1  text-left",children:Object(n.jsx)("p",{style:{marginLeft:"20px"},children:K()(new Date(e.createdAt)).fromNow()})})})]})}))})})},Y=function(){return{"Content-type":"application/json",Authorization:function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?"Bearer ".concat(e.token):{}}()}},Q=function(e){var t=e.posts,c=e.currentUser,r=t.comments,a=t.user,i=t.image,o=t.content,d=t.createdAt,b=Object(s.useState)([]),m=Object(l.a)(b,2),O=m[0],f=m[1],p=Object(s.useState)(""),h=Object(l.a)(p,2),x=h[0],v=h[1],g=Object(s.useState)(0),N=Object(l.a)(g,2),w=N[0],y=N[1],S=Object(s.useState)(0),k=Object(l.a)(S,2),_=k[0],P=k[1],C=Object(s.useState)(!1),F=Object(l.a)(C,2),q=F[0],E=F[1],R=function(){var e=Object(u.a)(j.a.mark((function e(c){var n,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),n={content:x},v(""),e.prev=3,e.next=6,fetch("/add-comment/".concat(t._id),{method:"post",mode:"cors",headers:Y(),body:JSON.stringify(n)});case 6:return s=e.sent,e.next=9,s.json();case 9:r=e.sent,f((function(e){return[].concat(Object(U.a)(e),[r.data])})),y((function(e){return e+1})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){console.log(t),P(t.reactors.length);var e=t.reactors.find((function(e){return e.reactor._id===c._id}));console.log(e,"islike"),e&&E(!0),r&&(f(r),y(r.length))}),[c._id]);var D=function(){var e=Object(u.a)(j.a.mark((function e(){var c,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={type:"like"},q){e.next=17;break}return e.prev=2,e.next=5,fetch("/add-reactions/".concat(t._id),{method:"post",mode:"cors",headers:Y(),body:JSON.stringify(c)});case 5:return n=e.sent,e.next=8,n.json();case 8:e.sent&&(P((function(e){return e+1})),E(!0)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:e.next=30;break;case 17:return e.prev=17,e.next=20,fetch("/delete/reaction/".concat(t._id),{method:"delete",mode:"cors",headers:Y()});case 20:return s=e.sent,e.next=23,s.json();case 23:e.sent&&(E(!1),P((function(e){return e-1}))),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(17),console.log(e.t1);case 30:case"end":return e.stop()}}),e,null,[[2,12],[17,27]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"container-fluid post-card mt-4",children:[Object(n.jsxs)("div",{className:"row pt-3 pb-3 pr-3",children:[Object(n.jsxs)("div",{className:"col-10 col-xs-11 col-sm-11 d-flex align-items-center",children:[Object(n.jsx)("img",{src:c.profilePicture?c.profilePicture:"https://res.cloudinary.com/dueq2a3w1/image/upload/v1608046828/default-image1_w8javi.jpg",alt:"",width:"40",className:"rounded-circle"}),Object(n.jsxs)("h2",{className:"modal-title",children:["".concat(a.firstName," ").concat(a.lastName),Object(n.jsx)("br",{})," ",Object(n.jsx)("span",{style:{fontSize:"14px"},children:K()(new Date(d)).fromNow()})]})]}),c._id===a._id?Object(n.jsx)("div",{className:"col-1 col-xs-1 col-sm-1 ",children:Object(n.jsxs)("div",{className:"dropdown",children:[Object(n.jsx)("button",{class:"btn  dropdown-toggle dropbtn",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"}),Object(n.jsxs)("div",{className:"dropdown-content ",children:[Object(n.jsx)("a",{children:"Edit"}),Object(n.jsx)("a",{children:"Delete"})]})]})}):" "]}),Object(n.jsxs)("div",{className:"row pl-3 pr-3 pb-3 text-left",children:[Object(n.jsx)("p",{children:o}),Object(n.jsx)("img",{src:i,alt:"",width:"100%"})]}),Object(n.jsxs)("div",{className:"row d-flex justify-content-between  pr-3 pl-3",children:[Object(n.jsxs)("p",{children:[_," liked"]}),Object(n.jsx)("p",{children:"".concat(w," comments")})]}),Object(n.jsxs)("div",{className:"row p-2 ",style:{border:"1px solid #dae0e5"},children:[Object(n.jsxs)("div",{className:"col-6 like ".concat(q?"coloured":""),onClick:D,children:[Object(n.jsx)(B.a,{className:q?"coloured":""}),Object(n.jsx)("span",{className:q?"coloured":"",children:"Like"})]}),Object(n.jsxs)("div",{className:"col-6 comment",children:[Object(n.jsx)(W.a,{})," ",Object(n.jsx)("span",{children:"Comment"})]})]}),Object(n.jsx)(G,{comments:O}),Object(n.jsxs)("div",{className:"row pt-3 pb-3",children:[Object(n.jsx)("div",{className:"col-1 col-sm-1 ",children:Object(n.jsx)("img",{src:c.profilePicture?c.profilePicture:"https://res.cloudinary.com/dueq2a3w1/image/upload/v1608046828/default-image1_w8javi.jpg",alt:"",className:"rounded-circle",width:"40"})}),Object(n.jsx)("div",{className:"col-11 col-sm-10 ml-2 ",children:Object(n.jsx)("form",{onSubmit:function(e){return R(e)},children:Object(n.jsx)("input",{type:"text",className:"form-control feed-input",placeholder:"Write a comment...",value:x,onChange:function(e){return v(e.target.value)}})})})]})]})})},X=function(e){var t=e.currentUser,c=e.socket,r=Object(s.useState)(!1),a=Object(l.a)(r,2),i=a[0],o=a[1],d=Object(s.useState)(""),b=Object(l.a)(d,2),m=b[0],O=b[1],f=Object(s.useState)(""),p=Object(l.a)(f,2),h=p[0],x=p[1],v=Object(s.useState)(""),g=Object(l.a)(v,2),N=g[0],w=g[1],y=Object(s.useState)([]),S=Object(l.a)(y,2),k=(S[0],S[1]),_=Object(s.useState)([]),P=Object(l.a)(_,2),C=P[0],F=P[1],q=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={content:N,image:h},e.prev=2,e.next=5,fetch("/add-post",{method:"post",mode:"cors",headers:Y(),body:JSON.stringify(n)});case 5:return s=e.sent,e.next=8,s.json();case 8:if(r=e.sent,console.log(r,"res"),!r.errors){e.next=13;break}return k(r.errors),e.abrupt("return");case 13:F((function(e){return[r.data].concat(Object(U.a)(e))})),c.emit("newPost",r.data),x(""),w(""),O(""),o(!i),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(t){return e.apply(this,arguments)}}(),E=Object(s.useState)(!0),R=Object(l.a)(E,2),D=R[0],I=R[1],L=t.friends&&t.friends.map((function(e){return e._id}));return Object(s.useEffect)((function(){var e=function(){var e=Object(u.a)(j.a.mark((function e(){var n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/all-posts",{headers:Y()});case 2:return n=e.sent,e.next=5,n.json();case 5:s=e.sent,F(s.data),I(!D),c.on("newPost",(function(e){e.user._id!==t._id&&L.includes(e.user._id)&&F((function(t){return[e].concat(Object(U.a)(t))}))}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t._id&&e(),function(){c.off("newPost")}}),[t._id]),Object(n.jsxs)(n.Fragment,{children:[i&&Object(n.jsx)(A,{onRequestClose:function(e){e.preventDefault(),o(!i)},imagePreview:m,setImage:x,handleFile:function(e){O(URL.createObjectURL(e.target.files[0]));var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onloadend=function(){x(t.result)}},postCreate:q,setContent:w,currentUser:t}),Object(n.jsx)(T,{setShowModal:o,currentUser:t}),C.length>0?C.map((function(e){return console.log(e,"item"),Object(n.jsx)(Q,{posts:e,currentUser:t},e._id)})):Object(n.jsx)("div",{className:" post-card mt-5 mb-5  align-items-center",children:Object(n.jsx)("div",{className:"pt-5 pb-5",children:"No Posts Available"})})]})},Z=function(e){var t=e.friends,c=Object(b.g)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("hr",{className:"mt-5"}),Object(n.jsx)("div",{className:"contacts-title mt-4 mb-3",children:"Contacts"}),t&&t.length?t.map((function(e){return console.log(e),Object(n.jsxs)("div",{className:"row d-flex align-items-center pt-2 pb-2 contacts-list",onClick:function(){return c.push("/user/posts/".concat(e._id))},children:[Object(n.jsx)("div",{className:"col-sm-2",children:Object(n.jsx)("img",{src:e.profilePicture?e.profilePicture:"https://res.cloudinary.com/dueq2a3w1/image/upload/v1608046828/default-image1_w8javi.jpg",alt:"",className:"rounded-image",width:"40"})}),Object(n.jsx)("div",{className:"col-sm-10",children:"".concat(e.firstName," ").concat(e.lastName)})]},e._id)})):Object(n.jsx)("div",{children:"No Contacts Available"}),Object(n.jsx)("hr",{className:"mt-5"})]})})},$=function(e){var t=e.friends,c=Object(s.useState)(!1),r=Object(l.a)(c,2),a=r[0],i=r[1],o=function(){var e=Object(u.a)(j.a.mark((function e(t){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={status:"Pending"},a&&(c.status="Decline"),e.prev=2,e.next=5,fetch("/friend-request/".concat(t),{method:"post",mode:"cors",headers:Y(),body:JSON.stringify(c)});case 5:return n=e.sent,e.next=8,n.json();case 8:e.sent,i(!a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container-fuild",children:Object(n.jsxs)("div",{className:"row d-flex   align-items-center p-2 pt-3 pb-3",children:[Object(n.jsx)("div",{className:"col-sm-2 col-md-2 ",children:Object(n.jsx)(m.b,{to:"/user/posts/".concat(t._id),children:Object(n.jsx)("img",{src:t.profilePicture?t.profilePicture:"https://res.cloudinary.com/dueq2a3w1/image/upload/v1608046828/default-image1_w8javi.jpg",alt:"",width:"40"})})}),Object(n.jsx)("div",{className:"col-sm-5 col-md-5",children:"".concat(t.firstName," ").concat(t.lastName)}),Object(n.jsx)("div",{className:"col-sm-4 col-md-4",children:Object(n.jsx)("button",{className:"btn btn-primary",onClick:function(){return o(t._id)},children:a?"Request Sent":"Add Friend"})})]})})},ee=function(e){var t=e.currentUser,c=Object(s.useState)([]),r=Object(l.a)(c,2),a=r[0],i=r[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/non-friends-list",{headers:Y()});case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,i(c.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t._id&&e()}),[t._id]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"container text-left post-card",children:[Object(n.jsx)("h2",{children:"Find People"}),a&&a.length?a.map((function(e){return Object(n.jsx)($,{friends:e},e._id)})):Object(n.jsx)("div",{className:"mt-4",children:"No New Friends Available"})]})})},te=c(206),ce=c.n(te),ne=function(e){e.logOut;var t=Object(s.useState)({}),c=Object(l.a)(t,2),r=c[0],a=c[1];Object(s.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/user-details",{mode:"cors",headers:Y()});case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a(c.data||{}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[r._id]);var i=ce.a.connect("",{transports:["websocket","polling","flashsocket"]});return Object(s.useEffect)((function(){return console.log(r._id,"userDetails"),i.emit("connection",r._id),function(){}}),[r._id,i]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"container-fuild pt-4 ",style:{backgroundColor:"#eff2f5"},children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-sm-3 d-none d-sm-none d-md-none d-lg-none d-xl-block",children:Object(n.jsx)(F,{})}),Object(n.jsx)("div",{className:"col-xs-8 col-sm-12 col-md-7 col-lg-7 col-xl-6  ",children:Object(n.jsx)(X,{currentUser:r,socket:i})}),Object(n.jsxs)("div",{className:"col-sm-4 col-md-5 col-lg-5 col-xl-3 d-none d-sm-none d-md-block ",children:[Object(n.jsx)(ee,{currentUser:r}),Object(n.jsx)(Z,{friends:r.friends})]})]})})})};var se=function(e){var t=e.render,c=Object(h.a)(e,["render"]),r=Object(s.useState)(null),a=Object(l.a)(r,2),i=a[0],d=a[1];return Object(s.useEffect)((function(){var e=localStorage.getItem("user");d(!!e)}),[]),null===i?Object(n.jsx)(n.Fragment,{}):Object(n.jsx)(b.b,Object(o.a)(Object(o.a)({},c),{},{render:function(e){return i?Object(n.jsx)(t,Object(o.a)({},e)):Object(n.jsx)(b.a,{to:"/"})}}))},re=(c(107),c(207)),ae=c.n(re),ie=c(208),oe=c.n(ie),le=function(e){var t=e.person,c=e.friends,r=Object(s.useState)(!1),a=Object(l.a)(r,2),i=a[0],o=a[1],d=Object(s.useState)(!1),b=Object(l.a)(d,2),O=b[0],f=b[1];console.log(c);var p=function(){var e=Object(u.a)(j.a.mark((function e(t){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={status:"Pending"},i&&(c.status="Decline"),e.prev=2,e.next=5,fetch("/friend-request/".concat(t),{method:"post",mode:"cors",headers:Y(),body:JSON.stringify(c)});case 5:return n=e.sent,e.next=8,n.json();case 8:e.sent,o(!i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){c.find((function(e){return t._id===e._id}))&&f(!0);var e=function(){var e=Object(u.a)(j.a.mark((function e(){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/request/".concat(t._id),{mode:"cors",headers:Y()});case 2:return c=e.sent,e.next=5,c.json();case 5:n=e.sent,console.log(n),n.data.length&&o(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t._id&&e()}),[t._id]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"row d-flex align-items-center search-card pt-4 pb-4 ",children:[Object(n.jsx)("div",{className:"col-3 col-xs-2 col-md-2  ",children:Object(n.jsx)("img",{src:t.profilePicture?t.profilePicture:"https://res.cloudinary.com/dueq2a3w1/image/upload/v1608046828/default-image1_w8javi.jpg",alt:"",className:"rounded-circle",width:"90%"})}),Object(n.jsx)("div",{className:"col-7 text-left text ",children:Object(n.jsx)(m.b,{to:"/user/posts/".concat(t._id),children:Object(n.jsx)("span",{children:"".concat(t.firstName," ").concat(t.lastName)})})}),!O&&Object(n.jsx)("div",{className:"col-2 text-right",children:i?Object(n.jsx)(oe.a,{onClick:function(){return p(t._id)}}):Object(n.jsx)(ae.a,{onClick:function(){return p(t._id)}})})]},t._id)})},de=c(262),je=function(e){var t=e.currentUser,c=e.location;e.logOut;console.log(t);var r=de.parse(c.search),a=Object(s.useState)([]),i=Object(l.a)(a,2),o=i[0],d=i[1];return Object(s.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/search?q=".concat(r.q),{headers:Y(),mode:"cors"});case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,d(c.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r.q]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"conatiner",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-sm-10 offset-sm-1 col-md-6 offset-md-3",children:o&&o.length?Object(n.jsx)("div",{className:"container mt-5",children:o.length&&o.map((function(e){return Object(n.jsx)(le,{person:e,friends:t.friends},e._id)}))}):Object(n.jsx)("div",{className:" post-card mt-5 mb-5  align-items-center",children:Object(n.jsx)("div",{className:"pt-5 pb-5",children:"No User Available"})})})})})})},ue=function(e){var t=e.currentUser,c=(e.logOut,e.match.params.id),r=Object(s.useState)([]),a=Object(l.a)(r,2),i=a[0],o=a[1];return Object(s.useEffect)((function(){t&&function(){var e=Object(u.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/posts/".concat(c),{mode:"cors",headers:Y()});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),o(n.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t._id]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-6 offset-lg-3",children:i.length?i.map((function(e){return Object(n.jsx)(Q,{posts:e,currentUser:t},e._id)})):Object(n.jsx)("div",{className:" post-card mt-5 mb-5  align-items-center",children:Object(n.jsx)("div",{className:"pt-5 pb-5",children:"No Posts Available"})})})})})})},be=c(209),me=c.n(be),Oe=c(210),fe=c.n(Oe),pe=c(211),he=c.n(pe),xe=c(212),ve=c.n(xe),ge=c(213),Ne=c.n(ge),we=c(214),ye=c.n(we),Se=c(216),ke=c.n(Se),_e=c(215),Pe=c.n(_e),Ce=(c(269),c(569)),Fe=function(e){var t=e.currentUser,c=e.logOut;console.log(c);var r=Object(b.g)(),a=Object(s.useState)(""),i=Object(l.a)(a,2),o=i[0],d=i[1],m=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r.push("/users/search?q=".concat(o)),d("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"container-fluid pt-2 header",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-3",children:Object(n.jsxs)("div",{className:"row pt-2",children:[Object(n.jsx)("div",{className:"col-md-2 ",children:Object(n.jsx)("img",{src:"https://res.cloudinary.com/dueq2a3w1/image/upload/v1607583958/Facebook%20Clone/fb-logo_octlga.png",alt:"",width:"40px"})}),Object(n.jsx)("div",{className:"col-md-10 ",children:Object(n.jsxs)("form",{className:"header-left",onSubmit:function(e){return m(e)},children:[Object(n.jsx)(me.a,{className:"searchIcon ml-2"}),Object(n.jsx)("input",{className:"header-input",type:"search",placeholder:"Search People",value:o,onChange:function(e){return d(e.target.value)}})]})})]})}),Object(n.jsx)("div",{className:"col-md-4 offset-md-1 pt-2",children:Object(n.jsxs)("div",{className:"d-flex flex-row  justify-content-between mb-3",children:[Object(n.jsx)("div",{className:" header-icons ",children:Object(n.jsx)(fe.a,{fontSize:"large",onClick:function(){return r.push("/users/".concat(t._id,"/timeline"))}})}),Object(n.jsx)("div",{className:" header-icons ",children:Object(n.jsx)(he.a,{fontSize:"large"})}),Object(n.jsx)("div",{className:" header-icons ",children:Object(n.jsx)(ve.a,{fontSize:"large"})}),Object(n.jsx)("div",{className:" header-icons ",children:Object(n.jsx)(Ne.a,{fontSize:"large"})}),Object(n.jsx)("div",{className:" header-icons ",children:Object(n.jsx)(ye.a,{fontSize:"large",onClick:function(){return r.push("/user/".concat(t._id,"/requests"))}})})]})}),Object(n.jsx)("div",{className:"col-md-3 offset-md-1 ",children:Object(n.jsxs)("div",{className:"d-flex flex-row  justify-content-between ",children:[Object(n.jsxs)("div",{className:" account ",onClick:function(){return r.push("/user/profile")},children:[" ",Object(n.jsx)("img",{src:t.profilePicture?t.profilePicture:"https://res.cloudinary.com/dueq2a3w1/image/upload/v1608046828/default-image1_w8javi.jpg",alt:"",width:"40px",className:"mr-2 rounded-circle"}),Object(n.jsx)("span",{children:t.firstName+" "+t.lastName})]}),Object(n.jsx)(Ce.a,{children:Object(n.jsx)(Pe.a,{})}),Object(n.jsx)(Ce.a,{children:Object(n.jsx)(ke.a,{})}),Object(n.jsxs)("div",{className:"dropdown",children:[Object(n.jsx)("button",{class:"btn  dropdown-toggle dropbtn",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"}),Object(n.jsx)("div",{className:"dropdown-content ",children:Object(n.jsx)("a",{onClick:c,children:"Logout"})})]})]})})]})})})},Ue=(c(270),function(e){var t=e.setProfilePic,c=e.setCoverPic,r=(e.profilePic,e.coverPic,e.currentUser),a=Object(s.useState)(""),i=Object(l.a)(a,2),o=i[0],d=i[1],b=Object(s.useState)(""),m=Object(l.a)(b,2),O=m[0],f=m[1],p=function(e,t,c,n){t(URL.createObjectURL(e.target.files[0]));var s=new FileReader;s.readAsDataURL(e.target.files[0]),s.onloadend=Object(u.a)(j.a.mark((function e(){var t,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(s.result),console.log(n),t="profilePicture"===n?{profilePicture:s.result}:{coverPhoto:s.result},e.prev=3,e.next=6,fetch("/users/edit",{mode:"cors",headers:Y(),body:JSON.stringify(t),method:"put"});case 6:return r=e.sent,e.next=9,r.json();case 9:a=e.sent,console.log(a),console.log(t),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))};return Object(s.useEffect)((function(){d(r.profilePicture),f(r.coverPhoto)}),[]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"container intro",children:Object(n.jsxs)("div",{className:"user-images",children:[Object(n.jsxs)("div",{className:"cover-photo-container",children:[Object(n.jsx)("label",{htmlFor:"cover-pic",children:Object(n.jsx)("img",{src:O||"https://res.cloudinary.com/dueq2a3w1/image/upload/v1608046828/default-image1_w8javi.jpg",alt:"",className:"cover-photo"})}),Object(n.jsx)("input",{type:"file",id:"cover-pic",accept:".png, .jpg, .jpeg",hidden:!0,onChange:function(e){return p(e,f,c,"coverPhoto")}})]}),Object(n.jsx)("label",{htmlFor:"profile-pic",children:Object(n.jsx)("img",{src:o||"https://res.cloudinary.com/dueq2a3w1/image/upload/v1608046828/default-image1_w8javi.jpg",alt:"",className:"profile-picture"})}),Object(n.jsx)("input",{type:"file",id:"profile-pic",accept:".png, .jpg, .jpeg",hidden:!0,onChange:function(e){return p(e,d,t,"profilePicture")}})]})})})}),qe=function(e){var t=e.currentUser,c=Object(s.useState)(""),r=Object(l.a)(c,2),a=r[0],i=r[1],o=Object(s.useState)(""),d=Object(l.a)(o,2),b=d[0],m=d[1],O=Object(s.useState)([]),f=Object(l.a)(O,2),p=f[0],h=f[1];return Object(s.useEffect)((function(){t&&function(){var e=Object(u.a)(j.a.mark((function e(){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/posts/".concat(t._id),{mode:"cors",headers:Y()});case 2:return c=e.sent,e.next=5,c.json();case 5:n=e.sent,console.log(n),h(n.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t._id]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-sm-10 offset-sm-1 col-lg-8 offset-lg-2 col-xxl-6 offset-xxl-3",children:Object(n.jsx)(Ue,{setProfilePic:i,setCoverPic:m,profilePic:a,coverPic:b,currentUser:t})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-6 offset-lg-3",children:p&&p.length?p.map((function(e){return Object(n.jsx)(Q,{posts:e,currentUser:t},e._id)})):Object(n.jsx)("div",{children:"User hasn't posted any post yet"})})})]})})},Ee=function(e){var t=e.friends,c=Object(s.useState)(!1),r=Object(l.a)(c,2),a=r[0],i=r[1],o=function(){var e=Object(u.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/accept-request/".concat(t),{method:"put",mode:"cors",headers:Y()});case 3:return c=e.sent,e.next=6,c.json();case 6:e.sent,i(!a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){"Accepted"===t.status&&i(!0)}),[]),Object(n.jsx)("div",{className:"container-fuild",children:Object(n.jsxs)("div",{className:"row d-flex   align-items-center p-2 pt-3 pb-3",children:[Object(n.jsx)("div",{className:"col-sm-2 col-md-2 ",children:Object(n.jsx)("img",{src:t.from.profilePicture?t.from.profilePicture:"https://res.cloudinary.com/dueq2a3w1/image/upload/v1608046828/default-image1_w8javi.jpg",alt:"",width:"40"})}),Object(n.jsx)("div",{className:"col-sm-5 col-md-5",children:"".concat(t.from.firstName," ").concat(t.from.lastName)}),Object(n.jsx)("div",{className:"col-sm-4 col-md-4",children:!a&&Object(n.jsx)("button",{className:"btn btn-primary",onClick:function(){return o(t.from._id)},children:"Confirm"})})]})})},Re=function(e){var t=e.currentUser;e.logOut;console.log(t);var c=Object(s.useState)([]),r=Object(l.a)(c,2),a=r[0],i=r[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/received-request",{headers:Y()});case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,i(c.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t._id&&e()}),[t._id]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"container ",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-sm-10 offset-sm-1 col-md-6 offset-md-3 post-card mt-5",children:a&&a.length>0?a.map((function(e){return Object(n.jsx)(Ee,{friends:e},e.from._id)})):Object(n.jsx)("div",{className:"mt-5 mb-5 align-items-center",children:"No Request Available"})})})})})},De=function(e){var t=Object(s.useState)({}),c=Object(l.a)(t,2),r=c[0],a=c[1],i=JSON.parse(localStorage.getItem("user"))||"",d=Object(s.useState)(i||""),m=Object(l.a)(d,2),O=(m[0],m[1]),f=i?i.user._id:"",p=Object(b.g)(),h=function(){localStorage.removeItem("user"),a({}),O(!1),p.push("/")};return Object(s.useEffect)((function(){console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PORT:"http://localhost:3000"})),f&&function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("app"),e.next=4,fetch("/user-details",{mode:"cors",headers:Y()});case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,a(c.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Fe,{currentUser:r,logOut:h}),Object(n.jsxs)(b.d,{children:[Object(n.jsx)(se,{exact:!0,path:"/users/:id/timeline",render:function(e){return Object(n.jsx)(ne,Object(o.a)(Object(o.a)({},e),{},{logOut:h}))}}),Object(n.jsx)(se,{exact:!0,path:"/users/search",render:function(e){return Object(n.jsx)(je,Object(o.a)(Object(o.a)({},e),{},{currentUser:r,logOut:h}))}}),Object(n.jsx)(se,{exact:!0,path:"/user/posts/:id",render:function(e){return Object(n.jsx)(ue,Object(o.a)(Object(o.a)({},e),{},{currentUser:r,logOut:h}))}}),Object(n.jsx)(se,{exact:!0,path:"/user/profile",render:function(e){return Object(n.jsx)(qe,Object(o.a)(Object(o.a)({},e),{},{currentUser:r,logOut:h}))}}),Object(n.jsx)(se,{exact:!0,path:"/user/:id/requests",render:function(e){return Object(n.jsx)(Re,Object(o.a)(Object(o.a)({},e),{},{currentUser:r,logOut:h}))}})]})]})};var Ae=function(){var e=JSON.parse(localStorage.getItem("user"))||"",t=Object(s.useState)(e||""),c=Object(l.a)(t,2),r=c[0];return c[1],Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(m.a,{children:Object(n.jsxs)(b.d,{children:[Object(n.jsx)(x,{path:"/",exact:!0,render:function(e){return Object(n.jsx)(O,Object(o.a)(Object(o.a)({},e),{},{authenticated:r}))}}),Object(n.jsx)(x,{path:"/register",exact:!0,render:function(e){return Object(n.jsx)(p,Object(o.a)(Object(o.a)({},e),{},{authenticated:r}))}}),Object(n.jsx)(b.b,{path:["/users/*","/user/*"],render:function(e){return Object(n.jsx)(De,Object(o.a)({},e))}})]})})})},Ie=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,570)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),r(e),a(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Ae,{})}),document.getElementById("root")),Ie()}},[[553,1,2]]]);
//# sourceMappingURL=main.4e096d5b.chunk.js.map